## Update album

We have delete, we have create, so we're left with the update part only.
This one will be fairly easy, as it's gonna be very similar to create (we can reuse the album form we declared in `Form` module).

`editAlbum` in `View`:

<pre class="fssnip highlighted"><div lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'View.fs:178-201_fs1', 1)" onmouseover="showTip(event, 'View.fs:178-201_fs1', 1)" class="f">editAlbum</span> (<span onmouseout="hideTip(event, 'View.fs:178-201_fs2', 2)" onmouseover="showTip(event, 'View.fs:178-201_fs2', 2)" class="i">album</span> <span class="o">:</span> <span class="i">Db</span><span class="o">.</span><span class="i">Album</span>) <span onmouseout="hideTip(event, 'View.fs:178-201_fs3', 3)" onmouseover="showTip(event, 'View.fs:178-201_fs3', 3)" class="i">genres</span> <span onmouseout="hideTip(event, 'View.fs:178-201_fs4', 4)" onmouseover="showTip(event, 'View.fs:178-201_fs4', 4)" class="i">artists</span> <span class="o">=</span> [ &#10;    <span class="i">h2</span> <span class="s">&quot;Edit&quot;</span>&#10;        &#10;    <span class="i">renderForm</span>&#10;        { <span class="i">Form</span> <span class="o">=</span> <span class="i">Form</span><span class="o">.</span><span onmouseout="hideTip(event, 'View.fs:178-201_fs2', 5)" onmouseover="showTip(event, 'View.fs:178-201_fs2', 5)" class="i">album</span>&#10;          <span class="i">Fieldsets</span> <span class="o">=</span> &#10;              [ { <span class="i">Legend</span> <span class="o">=</span> <span class="s">&quot;Album&quot;</span>&#10;                  <span class="i">Fields</span> <span class="o">=</span> &#10;                      [ { <span class="i">Label</span> <span class="o">=</span> <span class="s">&quot;Genre&quot;</span>&#10;                          <span class="i">Xml</span> <span class="o">=</span> <span class="i">selectInput</span> (<span class="k">fun</span> <span class="i">f</span> <span class="k">-&gt;</span> &lt;@ <span class="i">f</span><span class="o">.</span><span class="i">GenreId</span> @&gt;) <span onmouseout="hideTip(event, 'View.fs:178-201_fs3', 6)" onmouseover="showTip(event, 'View.fs:178-201_fs3', 6)" class="i">genres</span> (<span onmouseout="hideTip(event, 'View.fs:178-201_fs5', 7)" onmouseover="showTip(event, 'View.fs:178-201_fs5', 7)" class="i">Some</span> (<span onmouseout="hideTip(event, 'View.fs:178-201_fs6', 8)" onmouseover="showTip(event, 'View.fs:178-201_fs6', 8)" class="i">decimal</span> <span onmouseout="hideTip(event, 'View.fs:178-201_fs2', 9)" onmouseover="showTip(event, 'View.fs:178-201_fs2', 9)" class="i">album</span><span class="o">.</span><span class="i">GenreId</span>)) }&#10;                        { <span class="i">Label</span> <span class="o">=</span> <span class="s">&quot;Artist&quot;</span>&#10;                          <span class="i">Xml</span> <span class="o">=</span> <span class="i">selectInput</span> (<span class="k">fun</span> <span class="i">f</span> <span class="k">-&gt;</span> &lt;@ <span class="i">f</span><span class="o">.</span><span class="i">ArtistId</span> @&gt;) <span onmouseout="hideTip(event, 'View.fs:178-201_fs4', 10)" onmouseover="showTip(event, 'View.fs:178-201_fs4', 10)" class="i">artists</span> (<span onmouseout="hideTip(event, 'View.fs:178-201_fs5', 11)" onmouseover="showTip(event, 'View.fs:178-201_fs5', 11)" class="i">Some</span> (<span onmouseout="hideTip(event, 'View.fs:178-201_fs6', 12)" onmouseover="showTip(event, 'View.fs:178-201_fs6', 12)" class="i">decimal</span> <span onmouseout="hideTip(event, 'View.fs:178-201_fs2', 13)" onmouseover="showTip(event, 'View.fs:178-201_fs2', 13)" class="i">album</span><span class="o">.</span><span class="i">ArtistId</span>))}&#10;                        { <span class="i">Label</span> <span class="o">=</span> <span class="s">&quot;Title&quot;</span>&#10;                          <span class="i">Xml</span> <span class="o">=</span> <span class="i">input</span> (<span class="k">fun</span> <span class="i">f</span> <span class="k">-&gt;</span> &lt;@ <span class="i">f</span><span class="o">.</span><span class="i">Title</span> @&gt;) [<span class="s">&quot;value&quot;</span>, <span onmouseout="hideTip(event, 'View.fs:178-201_fs2', 14)" onmouseover="showTip(event, 'View.fs:178-201_fs2', 14)" class="i">album</span><span class="o">.</span><span class="i">Title</span>] }&#10;                        { <span class="i">Label</span> <span class="o">=</span> <span class="s">&quot;Price&quot;</span>&#10;                          <span class="i">Xml</span> <span class="o">=</span> <span class="i">input</span> (<span class="k">fun</span> <span class="i">f</span> <span class="k">-&gt;</span> &lt;@ <span class="i">f</span><span class="o">.</span><span class="i">Price</span> @&gt;) [<span class="s">&quot;value&quot;</span>, <span class="i">formatDec</span> <span onmouseout="hideTip(event, 'View.fs:178-201_fs2', 15)" onmouseover="showTip(event, 'View.fs:178-201_fs2', 15)" class="i">album</span><span class="o">.</span><span class="i">Price</span>] }&#10;                        { <span class="i">Label</span> <span class="o">=</span> <span class="s">&quot;Album Art Url&quot;</span>&#10;                          <span class="i">Xml</span> <span class="o">=</span> <span class="i">input</span> (<span class="k">fun</span> <span class="i">f</span> <span class="k">-&gt;</span> &lt;@ <span class="i">f</span><span class="o">.</span><span class="i">ArtUrl</span> @&gt;) [<span class="s">&quot;value&quot;</span>, <span class="s">&quot;/placeholder.gif&quot;</span>] } ] } ]&#10;          <span class="i">SubmitText</span> <span class="o">=</span> <span class="s">&quot;Save Changes&quot;</span> }&#10;&#10;    <span class="i">div</span> [&#10;        <span class="i">aHref</span> <span class="i">Path</span><span class="o">.</span><span class="i">Admin</span><span class="o">.</span><span class="i">manage</span> (<span class="i">text</span> <span class="s">&quot;Back to list&quot;</span>)&#10;    ]&#10;]&#10;</div></pre>&#10;<div class="tip" id="View.fs:178-201_fs1">val editAlbum : album:&#39;a -&gt; genres:&#39;b -&gt; artists:&#39;c -&gt; &#39;d list<br /><br />Full name: CDocument.editAlbum</div>&#10;<div class="tip" id="View.fs:178-201_fs2">val album : &#39;a</div>&#10;<div class="tip" id="View.fs:178-201_fs3">val genres : &#39;b</div>&#10;<div class="tip" id="View.fs:178-201_fs4">val artists : &#39;c</div>&#10;<div class="tip" id="View.fs:178-201_fs5">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;</div>&#10;<div class="tip" id="View.fs:178-201_fs6">Multiple items<br />val decimal : value:&#39;T -&gt; decimal (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.decimal<br /><br />--------------------<br />type decimal = System.Decimal<br /><br />Full name: Microsoft.FSharp.Core.decimal<br /><br />--------------------<br />type decimal&lt;&#39;Measure&gt; = decimal<br /><br />Full name: Microsoft.FSharp.Core.decimal&lt;_&gt;</div>&#10;&#10;

Path:

<pre class="fssnip highlighted"><div lang="fsharp">    <span class="k">let</span> <span onmouseout="hideTip(event, 'Path.fs:19-19_fs1', 1)" onmouseover="showTip(event, 'Path.fs:19-19_fs1', 1)" class="i">editAlbum</span> <span class="o">:</span> <span class="i">IntPath</span> <span class="o">=</span> <span class="s">&quot;/admin/edit/%d&quot;</span>    &#10;</div></pre>&#10;<div class="tip" id="Path.fs:19-19_fs1">val editAlbum : string<br /><br />Full name: CDocument.editAlbum</div>&#10;&#10;

Link in `manage` in `View` (note we also add links to "Details" here):

<pre class="fssnip highlighted"><div lang="fsharp">        <span class="k">for</span> <span onmouseout="hideTip(event, 'View.fs:119-131_fs1', 1)" onmouseover="showTip(event, 'View.fs:119-131_fs1', 1)" class="i">album</span> <span class="k">in</span> <span class="i">albums</span> <span class="k">-&gt;</span> &#10;        <span class="i">tr</span> [&#10;            <span class="k">for</span> <span class="i">t</span> <span class="k">in</span> [ <span onmouseout="hideTip(event, 'View.fs:119-131_fs2', 2)" onmouseover="showTip(event, 'View.fs:119-131_fs2', 2)" class="i">truncate</span> <span class="n">25</span> <span onmouseout="hideTip(event, 'View.fs:119-131_fs1', 3)" onmouseover="showTip(event, 'View.fs:119-131_fs1', 3)" class="i">album</span><span class="o">.</span><span class="i">Artist</span>; <span onmouseout="hideTip(event, 'View.fs:119-131_fs2', 4)" onmouseover="showTip(event, 'View.fs:119-131_fs2', 4)" class="i">truncate</span> <span class="n">25</span> <span onmouseout="hideTip(event, 'View.fs:119-131_fs1', 5)" onmouseover="showTip(event, 'View.fs:119-131_fs1', 5)" class="i">album</span><span class="o">.</span><span class="i">Title</span>; <span onmouseout="hideTip(event, 'View.fs:119-131_fs1', 6)" onmouseover="showTip(event, 'View.fs:119-131_fs1', 6)" class="i">album</span><span class="o">.</span><span class="i">Genre</span>; <span class="i">formatDec</span> <span onmouseout="hideTip(event, 'View.fs:119-131_fs1', 7)" onmouseover="showTip(event, 'View.fs:119-131_fs1', 7)" class="i">album</span><span class="o">.</span><span class="i">Price</span> ] <span class="k">-&gt;</span>&#10;                <span class="i">td</span> [ <span class="i">text</span> <span class="i">t</span> ]&#10;&#10;            <span class="k">yield</span> <span class="i">td</span> [&#10;                <span class="i">aHref</span> (<span onmouseout="hideTip(event, 'View.fs:119-131_fs3', 8)" onmouseover="showTip(event, 'View.fs:119-131_fs3', 8)" class="i">sprintf</span> <span class="i">Path</span><span class="o">.</span><span class="i">Admin</span><span class="o">.</span><span class="i">editAlbum</span> <span onmouseout="hideTip(event, 'View.fs:119-131_fs1', 9)" onmouseover="showTip(event, 'View.fs:119-131_fs1', 9)" class="i">album</span><span class="o">.</span><span class="i">AlbumId</span>) (<span class="i">text</span> <span class="s">&quot;Edit&quot;</span>)&#10;                <span class="i">text</span> <span class="s">&quot; | &quot;</span>&#10;                <span class="i">aHref</span> (<span onmouseout="hideTip(event, 'View.fs:119-131_fs3', 10)" onmouseover="showTip(event, 'View.fs:119-131_fs3', 10)" class="i">sprintf</span> <span class="i">Path</span><span class="o">.</span><span class="i">Store</span><span class="o">.</span><span class="i">details</span> <span onmouseout="hideTip(event, 'View.fs:119-131_fs1', 11)" onmouseover="showTip(event, 'View.fs:119-131_fs1', 11)" class="i">album</span><span class="o">.</span><span class="i">AlbumId</span>) (<span class="i">text</span> <span class="s">&quot;Details&quot;</span>)&#10;                <span class="i">text</span> <span class="s">&quot; | &quot;</span>&#10;                <span class="i">aHref</span> (<span onmouseout="hideTip(event, 'View.fs:119-131_fs3', 12)" onmouseover="showTip(event, 'View.fs:119-131_fs3', 12)" class="i">sprintf</span> <span class="i">Path</span><span class="o">.</span><span class="i">Admin</span><span class="o">.</span><span class="i">deleteAlbum</span> <span onmouseout="hideTip(event, 'View.fs:119-131_fs1', 13)" onmouseover="showTip(event, 'View.fs:119-131_fs1', 13)" class="i">album</span><span class="o">.</span><span class="i">AlbumId</span>) (<span class="i">text</span> <span class="s">&quot;Delete&quot;</span>)&#10;            ]&#10;        ]&#10;</div></pre>&#10;<div class="tip" id="View.fs:119-131_fs1">val album : obj</div>&#10;<div class="tip" id="View.fs:119-131_fs2">val truncate : value:&#39;T -&gt; &#39;T (requires member Truncate)<br /><br />Full name: Microsoft.FSharp.Core.Operators.truncate</div>&#10;<div class="tip" id="View.fs:119-131_fs3">val sprintf : format:Printf.StringFormat&lt;&#39;T&gt; -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.sprintf</div>&#10;&#10;

`updateAlbum` in `Db` module:

<pre class="fssnip highlighted"><div lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'Db.fs:56-61_fs1', 1)" onmouseover="showTip(event, 'Db.fs:56-61_fs1', 1)" class="f">updateAlbum</span> (<span onmouseout="hideTip(event, 'Db.fs:56-61_fs2', 2)" onmouseover="showTip(event, 'Db.fs:56-61_fs2', 2)" class="i">album</span> <span class="o">:</span> <span class="i">Album</span>) (<span onmouseout="hideTip(event, 'Db.fs:56-61_fs3', 3)" onmouseover="showTip(event, 'Db.fs:56-61_fs3', 3)" class="i">artistId</span>, <span onmouseout="hideTip(event, 'Db.fs:56-61_fs4', 4)" onmouseover="showTip(event, 'Db.fs:56-61_fs4', 4)" class="i">genreId</span>, <span onmouseout="hideTip(event, 'Db.fs:56-61_fs5', 5)" onmouseover="showTip(event, 'Db.fs:56-61_fs5', 5)" class="i">price</span>, <span onmouseout="hideTip(event, 'Db.fs:56-61_fs6', 6)" onmouseover="showTip(event, 'Db.fs:56-61_fs6', 6)" class="i">title</span>) (<span onmouseout="hideTip(event, 'Db.fs:56-61_fs7', 7)" onmouseover="showTip(event, 'Db.fs:56-61_fs7', 7)" class="i">ctx</span> <span class="o">:</span> <span class="i">DbContext</span>) <span class="o">=</span>&#10;    <span onmouseout="hideTip(event, 'Db.fs:56-61_fs2', 8)" onmouseover="showTip(event, 'Db.fs:56-61_fs2', 8)" class="i">album</span><span class="o">.</span><span class="i">ArtistId</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'Db.fs:56-61_fs3', 9)" onmouseover="showTip(event, 'Db.fs:56-61_fs3', 9)" class="i">artistId</span>&#10;    <span onmouseout="hideTip(event, 'Db.fs:56-61_fs2', 10)" onmouseover="showTip(event, 'Db.fs:56-61_fs2', 10)" class="i">album</span><span class="o">.</span><span class="i">GenreId</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'Db.fs:56-61_fs4', 11)" onmouseover="showTip(event, 'Db.fs:56-61_fs4', 11)" class="i">genreId</span>&#10;    <span onmouseout="hideTip(event, 'Db.fs:56-61_fs2', 12)" onmouseover="showTip(event, 'Db.fs:56-61_fs2', 12)" class="i">album</span><span class="o">.</span><span class="i">Price</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'Db.fs:56-61_fs5', 13)" onmouseover="showTip(event, 'Db.fs:56-61_fs5', 13)" class="i">price</span>&#10;    <span onmouseout="hideTip(event, 'Db.fs:56-61_fs2', 14)" onmouseover="showTip(event, 'Db.fs:56-61_fs2', 14)" class="i">album</span><span class="o">.</span><span class="i">Title</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'Db.fs:56-61_fs6', 15)" onmouseover="showTip(event, 'Db.fs:56-61_fs6', 15)" class="i">title</span>&#10;    <span onmouseout="hideTip(event, 'Db.fs:56-61_fs7', 16)" onmouseover="showTip(event, 'Db.fs:56-61_fs7', 16)" class="i">ctx</span><span class="o">.</span><span class="i">SubmitUpdates</span>()&#10;</div></pre>&#10;<div class="tip" id="Db.fs:56-61_fs1">val updateAlbum : album:&#39;a -&gt; artistId:&#39;b * genreId:&#39;c * price:&#39;d * title:&#39;e -&gt; ctx:&#39;f -&gt; &#39;g<br /><br />Full name: CDocument.updateAlbum</div>&#10;<div class="tip" id="Db.fs:56-61_fs2">val album : &#39;a</div>&#10;<div class="tip" id="Db.fs:56-61_fs3">val artistId : &#39;b</div>&#10;<div class="tip" id="Db.fs:56-61_fs4">val genreId : &#39;c</div>&#10;<div class="tip" id="Db.fs:56-61_fs5">val price : &#39;d</div>&#10;<div class="tip" id="Db.fs:56-61_fs6">val title : &#39;e</div>&#10;<div class="tip" id="Db.fs:56-61_fs7">val ctx : &#39;f</div>&#10;&#10;

`editAlbum` WebPart in `App` module:

<pre class="fssnip highlighted"><div lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'App.fs:64-82_fs1', 1)" onmouseover="showTip(event, 'App.fs:64-82_fs1', 1)" class="f">editAlbum</span> <span onmouseout="hideTip(event, 'App.fs:64-82_fs2', 2)" onmouseover="showTip(event, 'App.fs:64-82_fs2', 2)" class="i">id</span> <span class="o">=</span>&#10;    <span class="k">let</span> <span onmouseout="hideTip(event, 'App.fs:64-82_fs3', 3)" onmouseover="showTip(event, 'App.fs:64-82_fs3', 3)" class="i">ctx</span> <span class="o">=</span> <span class="i">Db</span><span class="o">.</span><span class="i">getContext</span>()&#10;    <span class="k">match</span> <span class="i">Db</span><span class="o">.</span><span class="i">getAlbum</span> <span onmouseout="hideTip(event, 'App.fs:64-82_fs2', 4)" onmouseover="showTip(event, 'App.fs:64-82_fs2', 4)" class="i">id</span> <span onmouseout="hideTip(event, 'App.fs:64-82_fs3', 5)" onmouseover="showTip(event, 'App.fs:64-82_fs3', 5)" class="i">ctx</span> <span class="k">with</span>&#10;    | <span onmouseout="hideTip(event, 'App.fs:64-82_fs4', 6)" onmouseover="showTip(event, 'App.fs:64-82_fs4', 6)" class="p">Some</span> <span onmouseout="hideTip(event, 'App.fs:64-82_fs5', 7)" onmouseover="showTip(event, 'App.fs:64-82_fs5', 7)" class="i">album</span> <span class="k">-&gt;</span>&#10;        <span class="i">choose</span> [&#10;            <span class="i">GET</span> <span class="o">&gt;</span><span class="o">=&gt;</span> <span class="i">warbler</span> (<span class="k">fun</span> _ <span class="k">-&gt;</span>&#10;                <span class="k">let</span> <span class="i">genres</span> <span class="o">=</span> &#10;                    <span class="i">Db</span><span class="o">.</span><span class="i">getGenres</span> <span onmouseout="hideTip(event, 'App.fs:64-82_fs3', 8)" onmouseover="showTip(event, 'App.fs:64-82_fs3', 8)" class="i">ctx</span> &#10;                    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'App.fs:64-82_fs6', 9)" onmouseover="showTip(event, 'App.fs:64-82_fs6', 9)" class="i">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'App.fs:64-82_fs7', 10)" onmouseover="showTip(event, 'App.fs:64-82_fs7', 10)" class="i">map</span> (<span class="k">fun</span> <span class="i">g</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'App.fs:64-82_fs8', 11)" onmouseover="showTip(event, 'App.fs:64-82_fs8', 11)" class="i">decimal</span> <span class="i">g</span><span class="o">.</span><span class="i">GenreId</span>, <span class="i">g</span><span class="o">.</span><span class="i">Name</span>)&#10;                <span class="k">let</span> <span class="i">artists</span> <span class="o">=</span> &#10;                    <span class="i">Db</span><span class="o">.</span><span class="i">getArtists</span> <span onmouseout="hideTip(event, 'App.fs:64-82_fs3', 12)" onmouseover="showTip(event, 'App.fs:64-82_fs3', 12)" class="i">ctx</span>&#10;                    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'App.fs:64-82_fs6', 13)" onmouseover="showTip(event, 'App.fs:64-82_fs6', 13)" class="i">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'App.fs:64-82_fs7', 14)" onmouseover="showTip(event, 'App.fs:64-82_fs7', 14)" class="i">map</span> (<span class="k">fun</span> <span class="i">g</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'App.fs:64-82_fs8', 15)" onmouseover="showTip(event, 'App.fs:64-82_fs8', 15)" class="i">decimal</span> <span class="i">g</span><span class="o">.</span><span class="i">ArtistId</span>, <span class="i">g</span><span class="o">.</span><span class="i">Name</span>)&#10;                <span class="i">html</span> (<span class="i">View</span><span class="o">.</span><span class="i">editAlbum</span> <span onmouseout="hideTip(event, 'App.fs:64-82_fs5', 16)" onmouseover="showTip(event, 'App.fs:64-82_fs5', 16)" class="i">album</span> <span class="i">genres</span> <span class="i">artists</span>))&#10;            <span class="i">POST</span> <span class="o">&gt;</span><span class="o">=&gt;</span> <span class="i">bindToForm</span> <span class="i">Form</span><span class="o">.</span><span onmouseout="hideTip(event, 'App.fs:64-82_fs5', 17)" onmouseover="showTip(event, 'App.fs:64-82_fs5', 17)" class="i">album</span> (<span class="k">fun</span> <span class="i">form</span> <span class="k">-&gt;</span>&#10;                <span class="i">Db</span><span class="o">.</span><span class="i">updateAlbum</span> <span onmouseout="hideTip(event, 'App.fs:64-82_fs5', 18)" onmouseover="showTip(event, 'App.fs:64-82_fs5', 18)" class="i">album</span> (<span onmouseout="hideTip(event, 'App.fs:64-82_fs9', 19)" onmouseover="showTip(event, 'App.fs:64-82_fs9', 19)" class="i">int</span> <span class="i">form</span><span class="o">.</span><span class="i">ArtistId</span>, <span onmouseout="hideTip(event, 'App.fs:64-82_fs9', 20)" onmouseover="showTip(event, 'App.fs:64-82_fs9', 20)" class="i">int</span> <span class="i">form</span><span class="o">.</span><span class="i">GenreId</span>, <span class="i">form</span><span class="o">.</span><span class="i">Price</span>, <span class="i">form</span><span class="o">.</span><span class="i">Title</span>) <span onmouseout="hideTip(event, 'App.fs:64-82_fs3', 21)" onmouseover="showTip(event, 'App.fs:64-82_fs3', 21)" class="i">ctx</span>&#10;                <span class="i">Redirection</span><span class="o">.</span><span class="i">FOUND</span> <span class="i">Path</span><span class="o">.</span><span class="i">Admin</span><span class="o">.</span><span class="i">manage</span>)&#10;        ]&#10;    | <span onmouseout="hideTip(event, 'App.fs:64-82_fs10', 22)" onmouseover="showTip(event, 'App.fs:64-82_fs10', 22)" class="p">None</span> <span class="k">-&gt;</span> &#10;        <span class="i">never</span>&#10;</div></pre>&#10;<div class="tip" id="App.fs:64-82_fs1">val editAlbum : id:&#39;a -&gt; &#39;b<br /><br />Full name: CDocument.editAlbum</div>&#10;<div class="tip" id="App.fs:64-82_fs2">val id : &#39;a</div>&#10;<div class="tip" id="App.fs:64-82_fs3">val ctx : obj</div>&#10;<div class="tip" id="App.fs:64-82_fs4">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;</div>&#10;<div class="tip" id="App.fs:64-82_fs5">val album : obj</div>&#10;<div class="tip" id="App.fs:64-82_fs6">Multiple items<br />module List<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;| ( [] )<br />&#160;&#160;| ( :: ) of Head: &#39;T * Tail: &#39;T list<br />&#160;&#160;interface IEnumerable<br />&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;member GetSlice : startIndex:int option * endIndex:int option -&gt; &#39;T list<br />&#160;&#160;member Head : &#39;T<br />&#160;&#160;member IsEmpty : bool<br />&#160;&#160;member Item : index:int -&gt; &#39;T with get<br />&#160;&#160;member Length : int<br />&#160;&#160;member Tail : &#39;T list<br />&#160;&#160;static member Cons : head:&#39;T * tail:&#39;T list -&gt; &#39;T list<br />&#160;&#160;static member Empty : &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List&lt;_&gt;</div>&#10;<div class="tip" id="App.fs:64-82_fs7">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; list:&#39;T list -&gt; &#39;U list<br /><br />Full name: Microsoft.FSharp.Collections.List.map</div>&#10;<div class="tip" id="App.fs:64-82_fs8">Multiple items<br />val decimal : value:&#39;T -&gt; decimal (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.decimal<br /><br />--------------------<br />type decimal = System.Decimal<br /><br />Full name: Microsoft.FSharp.Core.decimal<br /><br />--------------------<br />type decimal&lt;&#39;Measure&gt; = decimal<br /><br />Full name: Microsoft.FSharp.Core.decimal&lt;_&gt;</div>&#10;<div class="tip" id="App.fs:64-82_fs9">Multiple items<br />val int : value:&#39;T -&gt; int (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.int<br /><br />--------------------<br />type int = int32<br /><br />Full name: Microsoft.FSharp.Core.int<br /><br />--------------------<br />type int&lt;&#39;Measure&gt; = int<br /><br />Full name: Microsoft.FSharp.Core.int&lt;_&gt;</div>&#10;<div class="tip" id="App.fs:64-82_fs10">union case Option.None: Option&lt;&#39;T&gt;</div>&#10;&#10;

and finally `pathScan` in main `choose` WebPart:

<pre class="fssnip highlighted"><div lang="fsharp">        <span class="i">pathScan</span> <span class="i">Path</span><span class="o">.</span><span class="i">Admin</span><span class="o">.</span><span class="i">editAlbum</span> <span class="i">editAlbum</span>&#10;</div></pre>&#10;&#10;

Comments to above snippets:

- `editAlbum` View looks very much the same as the `createAlbum`. The only significant difference is that it has all the filed values pre-filled.
- in `Db.updateAlbum` we can see examples of property setters. This is the way SQLProvider mutates our `Album` value, while keeping track on what has changed before `SubmitUpdates()`
- `warbler` is needed in `editAlbum` GET handler to prevent eager evaluation
- but it's not necessary for POST, because POST needs to parse the incoming request, thus the evaluation is postponed upon the successful parsing.
- after the album is updated, a redirection to `manage` is applied

> Note: SQLProvider allows to change `Album` properties after the object has been instantiated - that's generally against the immutability concept that's propagated in the functional programming paradigm. We need to remember however, that F# is not pure functional programming language, but rather "functional first". This means that while it encourages to write in functional style, it still allows to use Object Oriented constructs. This often turns out to be useful, for example when we need to improve performance.

Pheeew, this section was long, but also very productive. Looks like we can already do some serious interaction with the application!


---

GitHub commit: [38976b29c4228799714d9cc1e1704e1fa3cf3b0e](https://github.com/theimowski/SuaveMusicStoreTutorial/commit/38976b29c4228799714d9cc1e1704e1fa3cf3b0e)

Files changed:

* App.fs (modified)
* Db.fs (modified)
* Path.fs (modified)
* View.fs (modified)
