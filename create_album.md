## Create album

We can delete an album, so why don't we proceed to add album functionality now.
It will require a bit more effort, because we actually need some kind of a form with fields to create a new album.
Fortunately, there's a helper module in Suave library exactly for this purpose.

> Note: `Suave.Form` module at the time of writing is still in `Experimental` package - just as `Suave.Html` which we're already using.

First, let's create a separate module `Form` to keep all of our forms in there (yes there will be more soon).
Add the `Form.fs` file just before `View.fs` - both `View` and `App` module will depend on `Form`.
As with the rest of modules, don't forget to follow our modules naming convention.

Now declare the first `Album` form:

<pre class="fssnip highlighted"><div lang="fsharp"><span class="k">open</span> <span class="i">Suave</span><span class="o">.</span><span class="i">Form</span>&#10;&#10;<span class="k">type</span> <span class="i">Album</span> <span class="o">=</span> {&#10;    <span class="i">ArtistId</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'Form.fs_fs1', 1)" onmouseover="showTip(event, 'Form.fs_fs1', 1)" class="i">decimal</span>&#10;    <span class="i">GenreId</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'Form.fs_fs1', 2)" onmouseover="showTip(event, 'Form.fs_fs1', 2)" class="i">decimal</span>&#10;    <span class="i">Title</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'Form.fs_fs2', 3)" onmouseover="showTip(event, 'Form.fs_fs2', 3)" class="i">string</span>&#10;    <span class="i">Price</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'Form.fs_fs1', 4)" onmouseover="showTip(event, 'Form.fs_fs1', 4)" class="i">decimal</span>&#10;    <span class="i">ArtUrl</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'Form.fs_fs2', 5)" onmouseover="showTip(event, 'Form.fs_fs2', 5)" class="i">string</span>&#10;}&#10;&#10;<span class="k">let</span> <span class="i">album</span> <span class="o">:</span> <span class="i">Form</span><span class="o">&lt;</span><span class="i">Album</span><span class="o">&gt;</span> <span class="o">=</span> &#10;    <span class="i">Form</span> ([ <span class="i">TextProp</span> ((<span class="k">fun</span> <span class="i">f</span> <span class="k">-&gt;</span> &lt;@ <span class="i">f</span><span class="o">.</span><span class="i">Title</span> @&gt;), [ <span class="i">maxLength</span> <span class="n">100</span> ])&#10;            <span class="i">TextProp</span> ((<span class="k">fun</span> <span class="i">f</span> <span class="k">-&gt;</span> &lt;@ <span class="i">f</span><span class="o">.</span><span class="i">ArtUrl</span> @&gt;), [ <span class="i">maxLength</span> <span class="n">100</span> ])&#10;            <span class="i">DecimalProp</span> ((<span class="k">fun</span> <span class="i">f</span> <span class="k">-&gt;</span> &lt;@ <span class="i">f</span><span class="o">.</span><span class="i">Price</span> @&gt;), [ <span onmouseout="hideTip(event, 'Form.fs_fs3', 6)" onmouseover="showTip(event, 'Form.fs_fs3', 6)" class="i">min</span> <span class="n">0.01M</span>; <span onmouseout="hideTip(event, 'Form.fs_fs4', 7)" onmouseover="showTip(event, 'Form.fs_fs4', 7)" class="i">max</span> <span class="n">100.0M</span>; <span class="i">step</span> <span class="n">0.01M</span> ])&#10;            ],&#10;          [])&#10;</div></pre>&#10;<div class="tip" id="Form.fs_fs1">Multiple items<br />val decimal : value:&#39;T -&gt; decimal (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.decimal<br /><br />--------------------<br />type decimal = System.Decimal<br /><br />Full name: Microsoft.FSharp.Core.decimal<br /><br />--------------------<br />type decimal&lt;&#39;Measure&gt; = decimal<br /><br />Full name: Microsoft.FSharp.Core.decimal&lt;_&gt;</div>&#10;<div class="tip" id="Form.fs_fs2">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />Full name: Microsoft.FSharp.Core.Operators.string<br /><br />--------------------<br />type string = System.String<br /><br />Full name: Microsoft.FSharp.Core.string</div>&#10;<div class="tip" id="Form.fs_fs3">val min : e1:&#39;T -&gt; e2:&#39;T -&gt; &#39;T (requires comparison)<br /><br />Full name: Microsoft.FSharp.Core.Operators.min</div>&#10;<div class="tip" id="Form.fs_fs4">val max : e1:&#39;T -&gt; e2:&#39;T -&gt; &#39;T (requires comparison)<br /><br />Full name: Microsoft.FSharp.Core.Operators.max</div>&#10;&#10;

`Album` type contains all fields needed for the form.
For the moment, `Suave.Form` supports following types of fields:

- decimal
- string
- System.Net.Mail.MailAddress
- Suave.Form.Password

> Note: the int type is not supported yet, however we can easily convert from decimal to int and vice versa

Afterwards comes a declaration of the album form (let album : `Form<Album>` =).
It consists of list of "Props" (Properties), of which we can think as of validations:

- First, we declared that the `Title` must be of max length 100
- Second, we declared the same for `ArtUrl`
- Third, we declared that the `Price` must be between 0.01 and 100.0 with a step of 0.01 (this means that for example 1.001 is invalid)

Those properties can be now used as both client and server side.
For client side we will the `album` declaration in our `View` module in order to output HTML5 input validation attributes.
For server side we will use an utility WebPart that will parse the form field values from a request.

> Note: the above snippet uses F# Quotations - a feature that you can read more about [here](https://msdn.microsoft.com/en-us/library/dd233212.aspx).
> For the sake of tutorial, you only need to know that they allow Suave to lookup the name of a Field from a property getter.

To see how we can use the form in `View` module, add `open Suave.Form` to the beginning:

<pre class="fssnip highlighted"><div lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'View.fs:1-6_fs1', 1)" onmouseover="showTip(event, 'View.fs:1-6_fs1', 1)" class="i">System</span>&#10;&#10;<span class="k">open</span> <span class="i">Suave</span><span class="o">.</span><span class="i">Html</span>&#10;<span class="k">open</span> <span class="i">Suave</span><span class="o">.</span><span class="i">Form</span>&#10;</div></pre>&#10;<div class="tip" id="View.fs:1-6_fs1">namespace System</div>&#10;&#10;

Next, add a couple of helper functions:

<pre class="fssnip highlighted"><div lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'View.fs:9-9_fs1', 1)" onmouseover="showTip(event, 'View.fs:9-9_fs1', 1)" class="f">divClass</span> <span onmouseout="hideTip(event, 'View.fs:9-9_fs2', 2)" onmouseover="showTip(event, 'View.fs:9-9_fs2', 2)" class="i">c</span> <span class="o">=</span> <span class="i">divAttr</span> [<span class="s">&quot;class&quot;</span>, <span onmouseout="hideTip(event, 'View.fs:9-9_fs2', 3)" onmouseover="showTip(event, 'View.fs:9-9_fs2', 3)" class="i">c</span>]&#10;</div></pre>&#10;<div class="tip" id="View.fs:9-9_fs1">val divClass : c:&#39;a -&gt; &#39;b<br /><br />Full name: CDocument.divClass</div>&#10;<div class="tip" id="View.fs:9-9_fs2">val c : &#39;a</div>&#10;&#10;

<pre class="fssnip highlighted"><div lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'View.fs:21-22_fs1', 1)" onmouseover="showTip(event, 'View.fs:21-22_fs1', 1)" class="f">fieldset</span> <span onmouseout="hideTip(event, 'View.fs:21-22_fs2', 2)" onmouseover="showTip(event, 'View.fs:21-22_fs2', 2)" class="i">x</span> <span class="o">=</span> <span class="i">tag</span> <span class="s">&quot;fieldset&quot;</span> [] (<span class="i">flatten</span> <span onmouseout="hideTip(event, 'View.fs:21-22_fs2', 3)" onmouseover="showTip(event, 'View.fs:21-22_fs2', 3)" class="i">x</span>)&#10;<span class="k">let</span> <span onmouseout="hideTip(event, 'View.fs:21-22_fs3', 4)" onmouseover="showTip(event, 'View.fs:21-22_fs3', 4)" class="f">legend</span> <span onmouseout="hideTip(event, 'View.fs:21-22_fs4', 5)" onmouseover="showTip(event, 'View.fs:21-22_fs4', 5)" class="i">txt</span> <span class="o">=</span> <span class="i">tag</span> <span class="s">&quot;legend&quot;</span> [] (<span class="i">text</span> <span onmouseout="hideTip(event, 'View.fs:21-22_fs4', 6)" onmouseover="showTip(event, 'View.fs:21-22_fs4', 6)" class="i">txt</span>)&#10;</div></pre>&#10;<div class="tip" id="View.fs:21-22_fs1">val fieldset : x:&#39;a -&gt; &#39;b<br /><br />Full name: CDocument.fieldset</div>&#10;<div class="tip" id="View.fs:21-22_fs2">val x : &#39;a</div>&#10;<div class="tip" id="View.fs:21-22_fs3">val legend : txt:&#39;a -&gt; &#39;b<br /><br />Full name: CDocument.legend</div>&#10;<div class="tip" id="View.fs:21-22_fs4">val txt : &#39;a</div>&#10;&#10;

And finally this block of code:

<pre class="fssnip highlighted"><div lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'View.fs:37-70_fs1', 1)" onmouseover="showTip(event, 'View.fs:37-70_fs1', 1)" class="t">Field</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">a</span><span class="o">&gt;</span> <span class="o">=</span> {&#10;    <span onmouseout="hideTip(event, 'View.fs:37-70_fs2', 2)" onmouseover="showTip(event, 'View.fs:37-70_fs2', 2)" class="i">Label</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'View.fs:37-70_fs3', 3)" onmouseover="showTip(event, 'View.fs:37-70_fs3', 3)" class="t">string</span>&#10;    <span onmouseout="hideTip(event, 'View.fs:37-70_fs4', 4)" onmouseover="showTip(event, 'View.fs:37-70_fs4', 4)" class="i">Xml</span> <span class="o">:</span> <span class="i">Form</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">a</span><span class="o">&gt;</span> <span class="k">-&gt;</span> <span class="i">Suave</span><span class="o">.</span><span class="i">Html</span><span class="o">.</span><span onmouseout="hideTip(event, 'View.fs:37-70_fs4', 5)" onmouseover="showTip(event, 'View.fs:37-70_fs4', 5)" class="i">Xml</span>&#10;}&#10;&#10;<span class="k">type</span> <span onmouseout="hideTip(event, 'View.fs:37-70_fs5', 6)" onmouseover="showTip(event, 'View.fs:37-70_fs5', 6)" class="t">Fieldset</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">a</span><span class="o">&gt;</span> <span class="o">=</span> {&#10;    <span onmouseout="hideTip(event, 'View.fs:37-70_fs6', 7)" onmouseover="showTip(event, 'View.fs:37-70_fs6', 7)" class="i">Legend</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'View.fs:37-70_fs3', 8)" onmouseover="showTip(event, 'View.fs:37-70_fs3', 8)" class="t">string</span>&#10;    <span onmouseout="hideTip(event, 'View.fs:37-70_fs7', 9)" onmouseover="showTip(event, 'View.fs:37-70_fs7', 9)" class="i">Fields</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'View.fs:37-70_fs1', 10)" onmouseover="showTip(event, 'View.fs:37-70_fs1', 10)" class="t">Field</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">a</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'View.fs:37-70_fs8', 11)" onmouseover="showTip(event, 'View.fs:37-70_fs8', 11)" class="t">list</span>&#10;}&#10;&#10;<span class="k">type</span> <span onmouseout="hideTip(event, 'View.fs:37-70_fs9', 12)" onmouseover="showTip(event, 'View.fs:37-70_fs9', 12)" class="t">FormLayout</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">a</span><span class="o">&gt;</span> <span class="o">=</span> {&#10;    <span onmouseout="hideTip(event, 'View.fs:37-70_fs10', 13)" onmouseover="showTip(event, 'View.fs:37-70_fs10', 13)" class="i">Fieldsets</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'View.fs:37-70_fs5', 14)" onmouseover="showTip(event, 'View.fs:37-70_fs5', 14)" class="t">Fieldset</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">a</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'View.fs:37-70_fs8', 15)" onmouseover="showTip(event, 'View.fs:37-70_fs8', 15)" class="t">list</span>&#10;    <span onmouseout="hideTip(event, 'View.fs:37-70_fs11', 16)" onmouseover="showTip(event, 'View.fs:37-70_fs11', 16)" class="i">SubmitText</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'View.fs:37-70_fs3', 17)" onmouseover="showTip(event, 'View.fs:37-70_fs3', 17)" class="t">string</span>&#10;    <span onmouseout="hideTip(event, 'View.fs:37-70_fs12', 18)" onmouseover="showTip(event, 'View.fs:37-70_fs12', 18)" class="i">Form</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'View.fs:37-70_fs12', 19)" onmouseover="showTip(event, 'View.fs:37-70_fs12', 19)" class="i">Form</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">a</span><span class="o">&gt;</span>&#10;}&#10;&#10;<span class="k">let</span> <span onmouseout="hideTip(event, 'View.fs:37-70_fs13', 20)" onmouseover="showTip(event, 'View.fs:37-70_fs13', 20)" class="f">renderForm</span> (<span onmouseout="hideTip(event, 'View.fs:37-70_fs14', 21)" onmouseover="showTip(event, 'View.fs:37-70_fs14', 21)" class="i">layout</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'View.fs:37-70_fs9', 22)" onmouseover="showTip(event, 'View.fs:37-70_fs9', 22)" class="t">FormLayout</span><span class="o">&lt;</span>_<span class="o">&gt;</span>) <span class="o">=</span>    &#10;    &#10;    <span class="i">form</span> [&#10;        <span class="k">for</span> <span onmouseout="hideTip(event, 'View.fs:37-70_fs15', 23)" onmouseover="showTip(event, 'View.fs:37-70_fs15', 23)" class="i">set</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'View.fs:37-70_fs14', 24)" onmouseover="showTip(event, 'View.fs:37-70_fs14', 24)" class="i">layout</span><span class="o">.</span><span onmouseout="hideTip(event, 'View.fs:37-70_fs10', 25)" onmouseover="showTip(event, 'View.fs:37-70_fs10', 25)" class="i">Fieldsets</span> <span class="k">-&gt;</span> &#10;            <span class="i">fieldset</span> [&#10;                <span class="k">yield</span> <span class="i">legend</span> <span onmouseout="hideTip(event, 'View.fs:37-70_fs15', 26)" onmouseover="showTip(event, 'View.fs:37-70_fs15', 26)" class="i">set</span><span class="o">.</span><span class="i">Legend</span>&#10;&#10;                <span class="k">for</span> <span class="i">field</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'View.fs:37-70_fs15', 27)" onmouseover="showTip(event, 'View.fs:37-70_fs15', 27)" class="i">set</span><span class="o">.</span><span class="i">Fields</span> <span class="k">do</span>&#10;                    <span class="k">yield</span> <span class="i">divClass</span> <span class="s">&quot;editor-label&quot;</span> [&#10;                        <span class="i">text</span> <span class="i">field</span><span class="o">.</span><span class="i">Label</span>&#10;                    ]&#10;                    <span class="k">yield</span> <span class="i">divClass</span> <span class="s">&quot;editor-field&quot;</span> [&#10;                        <span class="i">field</span><span class="o">.</span><span class="i">Xml</span> <span onmouseout="hideTip(event, 'View.fs:37-70_fs14', 28)" onmouseover="showTip(event, 'View.fs:37-70_fs14', 28)" class="i">layout</span><span class="o">.</span><span onmouseout="hideTip(event, 'View.fs:37-70_fs12', 29)" onmouseover="showTip(event, 'View.fs:37-70_fs12', 29)" class="i">Form</span>&#10;                    ]&#10;            ]&#10;&#10;        <span class="k">yield</span> <span class="i">submitInput</span> <span onmouseout="hideTip(event, 'View.fs:37-70_fs14', 30)" onmouseover="showTip(event, 'View.fs:37-70_fs14', 30)" class="i">layout</span><span class="o">.</span><span onmouseout="hideTip(event, 'View.fs:37-70_fs11', 31)" onmouseover="showTip(event, 'View.fs:37-70_fs11', 31)" class="i">SubmitText</span>&#10;    ]&#10;</div></pre>&#10;<div class="tip" id="View.fs:37-70_fs1">type Field&lt;&#39;a&gt; =<br />&#160;&#160;{Label: string;<br />&#160;&#160;&#160;Xml: obj -&gt; obj;}<br /><br />Full name: CDocument.Field&lt;_&gt;</div>&#10;<div class="tip" id="View.fs:37-70_fs2">Field.Label: string</div>&#10;<div class="tip" id="View.fs:37-70_fs3">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />Full name: Microsoft.FSharp.Core.Operators.string<br /><br />--------------------<br />type string = System.String<br /><br />Full name: Microsoft.FSharp.Core.string</div>&#10;<div class="tip" id="View.fs:37-70_fs4">Field.Xml: obj -&gt; obj</div>&#10;<div class="tip" id="View.fs:37-70_fs5">type Fieldset&lt;&#39;a&gt; =<br />&#160;&#160;{Legend: string;<br />&#160;&#160;&#160;Fields: Field&lt;&#39;a&gt; list;}<br /><br />Full name: CDocument.Fieldset&lt;_&gt;</div>&#10;<div class="tip" id="View.fs:37-70_fs6">Fieldset.Legend: string</div>&#10;<div class="tip" id="View.fs:37-70_fs7">Fieldset.Fields: Field&lt;&#39;a&gt; list</div>&#10;<div class="tip" id="View.fs:37-70_fs8">type &#39;T list = List&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.list&lt;_&gt;</div>&#10;<div class="tip" id="View.fs:37-70_fs9">type FormLayout&lt;&#39;a&gt; =<br />&#160;&#160;{Fieldsets: Fieldset&lt;&#39;a&gt; list;<br />&#160;&#160;&#160;SubmitText: string;<br />&#160;&#160;&#160;Form: obj;}<br /><br />Full name: CDocument.FormLayout&lt;_&gt;</div>&#10;<div class="tip" id="View.fs:37-70_fs10">FormLayout.Fieldsets: Fieldset&lt;&#39;a&gt; list</div>&#10;<div class="tip" id="View.fs:37-70_fs11">FormLayout.SubmitText: string</div>&#10;<div class="tip" id="View.fs:37-70_fs12">FormLayout.Form: obj</div>&#10;<div class="tip" id="View.fs:37-70_fs13">val renderForm : layout:FormLayout&lt;&#39;a&gt; -&gt; &#39;b<br /><br />Full name: CDocument.renderForm</div>&#10;<div class="tip" id="View.fs:37-70_fs14">val layout : FormLayout&lt;&#39;a&gt;</div>&#10;<div class="tip" id="View.fs:37-70_fs15">val set : elements:seq&lt;&#39;T&gt; -&gt; Set&lt;&#39;T&gt; (requires comparison)<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.set</div>&#10;&#10;

Above snippet is quite long but, as we'll soon see, we'll be able to reuse it a few times.
The `FormLayout` types defines a layout for a form and consists of:

- `SubmitText` that will be used for the string value of submit button
- `Fieldsets` - a list of `Fieldset` values
- `Form` - instance of the form to render

The `Fieldset` type defines a layout for a fieldset:

- `Legend` is a string value for a set of fields
- `Fields` is a list of `Field` values

The `Field` type has:

- a `Label` string
- `Xml` - function which takes `Form` and returns `Xml` (object model for HTML markup). It might seem cumbersome, but the signature is deliberate in order to make use of partial application

> Note: all of above types are generic, meaning they can accept any type of form, but the form's type must be consistent in the `FormLayout` hierarchy.

`renderForm` is a reusable function that takes an instance of `FormLayout` and returns HTML object model:

- it creates a form element
- the form contains a list of fieldsets, each of which:
    - outputs its legend first
    - iterates over its `Fields` and
        - outputs div element with label element for the field
        - outputs div element with target input element for the field
- the form ends with a submit button

`renderForm` ca be invoked like this:

<pre class="fssnip highlighted"><div lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'View.fs:149-172_fs1', 1)" onmouseover="showTip(event, 'View.fs:149-172_fs1', 1)" class="f">createAlbum</span> <span onmouseout="hideTip(event, 'View.fs:149-172_fs2', 2)" onmouseover="showTip(event, 'View.fs:149-172_fs2', 2)" class="i">genres</span> <span onmouseout="hideTip(event, 'View.fs:149-172_fs3', 3)" onmouseover="showTip(event, 'View.fs:149-172_fs3', 3)" class="i">artists</span> <span class="o">=</span> [ &#10;    <span class="i">h2</span> <span class="s">&quot;Create&quot;</span>&#10;        &#10;    <span class="i">renderForm</span>&#10;        { <span class="i">Form</span> <span class="o">=</span> <span class="i">Form</span><span class="o">.</span><span class="i">album</span>&#10;          <span class="i">Fieldsets</span> <span class="o">=</span> &#10;              [ { <span class="i">Legend</span> <span class="o">=</span> <span class="s">&quot;Album&quot;</span>&#10;                  <span class="i">Fields</span> <span class="o">=</span> &#10;                      [ { <span class="i">Label</span> <span class="o">=</span> <span class="s">&quot;Genre&quot;</span>&#10;                          <span class="i">Xml</span> <span class="o">=</span> <span class="i">selectInput</span> (<span class="k">fun</span> <span class="i">f</span> <span class="k">-&gt;</span> &lt;@ <span class="i">f</span><span class="o">.</span><span class="i">GenreId</span> @&gt;) <span onmouseout="hideTip(event, 'View.fs:149-172_fs2', 4)" onmouseover="showTip(event, 'View.fs:149-172_fs2', 4)" class="i">genres</span> <span onmouseout="hideTip(event, 'View.fs:149-172_fs4', 5)" onmouseover="showTip(event, 'View.fs:149-172_fs4', 5)" class="i">None</span> }&#10;                        { <span class="i">Label</span> <span class="o">=</span> <span class="s">&quot;Artist&quot;</span>&#10;                          <span class="i">Xml</span> <span class="o">=</span> <span class="i">selectInput</span> (<span class="k">fun</span> <span class="i">f</span> <span class="k">-&gt;</span> &lt;@ <span class="i">f</span><span class="o">.</span><span class="i">ArtistId</span> @&gt;) <span onmouseout="hideTip(event, 'View.fs:149-172_fs3', 6)" onmouseover="showTip(event, 'View.fs:149-172_fs3', 6)" class="i">artists</span> <span onmouseout="hideTip(event, 'View.fs:149-172_fs4', 7)" onmouseover="showTip(event, 'View.fs:149-172_fs4', 7)" class="i">None</span> }&#10;                        { <span class="i">Label</span> <span class="o">=</span> <span class="s">&quot;Title&quot;</span>&#10;                          <span class="i">Xml</span> <span class="o">=</span> <span class="i">input</span> (<span class="k">fun</span> <span class="i">f</span> <span class="k">-&gt;</span> &lt;@ <span class="i">f</span><span class="o">.</span><span class="i">Title</span> @&gt;) [] }&#10;                        { <span class="i">Label</span> <span class="o">=</span> <span class="s">&quot;Price&quot;</span>&#10;                          <span class="i">Xml</span> <span class="o">=</span> <span class="i">input</span> (<span class="k">fun</span> <span class="i">f</span> <span class="k">-&gt;</span> &lt;@ <span class="i">f</span><span class="o">.</span><span class="i">Price</span> @&gt;) [] }&#10;                        { <span class="i">Label</span> <span class="o">=</span> <span class="s">&quot;Album Art Url&quot;</span>&#10;                          <span class="i">Xml</span> <span class="o">=</span> <span class="i">input</span> (<span class="k">fun</span> <span class="i">f</span> <span class="k">-&gt;</span> &lt;@ <span class="i">f</span><span class="o">.</span><span class="i">ArtUrl</span> @&gt;) [<span class="s">&quot;value&quot;</span>, <span class="s">&quot;/placeholder.gif&quot;</span>] } ] } ]&#10;          <span class="i">SubmitText</span> <span class="o">=</span> <span class="s">&quot;Create&quot;</span> }&#10;&#10;    <span class="i">div</span> [&#10;        <span class="i">aHref</span> <span class="i">Path</span><span class="o">.</span><span class="i">Admin</span><span class="o">.</span><span class="i">manage</span> (<span class="i">text</span> <span class="s">&quot;Back to list&quot;</span>)&#10;    ]&#10;]&#10;</div></pre>&#10;<div class="tip" id="View.fs:149-172_fs1">val createAlbum : genres:&#39;a -&gt; artists:&#39;b -&gt; &#39;c list<br /><br />Full name: CDocument.createAlbum</div>&#10;<div class="tip" id="View.fs:149-172_fs2">val genres : &#39;a</div>&#10;<div class="tip" id="View.fs:149-172_fs3">val artists : &#39;b</div>&#10;<div class="tip" id="View.fs:149-172_fs4">union case Option.None: Option&lt;&#39;T&gt;</div>&#10;&#10;

We can see that for the `Xml` values we can invoke `selectInput` or `input` functions.
Both of them take as first argument function which directs to field for which the input should be generated.
`input` takes as second argument a list of optional attributes (of type `string * string` - key and value).
`selectInput` takes as second argument list of options (of type `decimal * string` - value and display name).
As third argument, `selectInput` takes an optional selected value - in case of `None`, the first one will be selected initially.

> Note: We are hardcoding the album's `ArtUrl` property with "/placeholder.gif" - we won't implement uploading images, so we'll have to stick with a placeholder image.

Now that we have the `createAlbum` view, we can write the appropriate WebPart handler.
Start by adding `getArtists` to `Db`:

<pre class="fssnip highlighted"><div lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'Db.fs:12-12_fs1', 1)" onmouseover="showTip(event, 'Db.fs:12-12_fs1', 1)" class="t">Artist</span> <span class="o">=</span> <span class="i">DbContext</span><span class="o">.</span><span class="i">``[dbo].[Artists]Entity``</span>&#10;</div></pre>&#10;<div class="tip" id="Db.fs:12-12_fs1">type Artist = obj<br /><br />Full name: CDocument.Artist</div>&#10;&#10;

<pre class="fssnip highlighted"><div lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'Db.fs:23-24_fs1', 1)" onmouseover="showTip(event, 'Db.fs:23-24_fs1', 1)" class="f">getArtists</span> (<span onmouseout="hideTip(event, 'Db.fs:23-24_fs2', 2)" onmouseover="showTip(event, 'Db.fs:23-24_fs2', 2)" class="i">ctx</span> <span class="o">:</span> <span class="i">DbContext</span>) <span class="o">:</span> <span class="i">Artist</span> <span onmouseout="hideTip(event, 'Db.fs:23-24_fs3', 3)" onmouseover="showTip(event, 'Db.fs:23-24_fs3', 3)" class="t">list</span> <span class="o">=</span> &#10;    <span onmouseout="hideTip(event, 'Db.fs:23-24_fs2', 4)" onmouseover="showTip(event, 'Db.fs:23-24_fs2', 4)" class="i">ctx</span><span class="o">.</span><span class="i">``[dbo].[Artists]``</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'Db.fs:23-24_fs4', 5)" onmouseover="showTip(event, 'Db.fs:23-24_fs4', 5)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'Db.fs:23-24_fs5', 6)" onmouseover="showTip(event, 'Db.fs:23-24_fs5', 6)" class="f">toList</span>&#10;</div></pre>&#10;<div class="tip" id="Db.fs:23-24_fs1">val getArtists : ctx:&#39;a -&gt; &#39;b list<br /><br />Full name: CDocument.getArtists</div>&#10;<div class="tip" id="Db.fs:23-24_fs2">val ctx : &#39;a</div>&#10;<div class="tip" id="Db.fs:23-24_fs3">type &#39;T list = List&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.list&lt;_&gt;</div>&#10;<div class="tip" id="Db.fs:23-24_fs4">module Seq<br /><br />from Microsoft.FSharp.Collections</div>&#10;<div class="tip" id="Db.fs:23-24_fs5">val toList : source:seq&lt;&#39;T&gt; -&gt; &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.Seq.toList</div>&#10;&#10;

Then proper entry in `Path` module:

<pre class="fssnip highlighted"><div lang="fsharp">    <span class="k">let</span> <span onmouseout="hideTip(event, 'Path.fs:18-18_fs1', 1)" onmouseover="showTip(event, 'Path.fs:18-18_fs1', 1)" class="i">createAlbum</span> <span class="o">=</span> <span class="s">&quot;/admin/create&quot;</span>&#10;</div></pre>&#10;<div class="tip" id="Path.fs:18-18_fs1">val createAlbum : string<br /><br />Full name: CDocument.createAlbum</div>&#10;&#10;

and WebPart in `App` module:

<pre class="fssnip highlighted"><div lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'App.fs:48-58_fs1', 1)" onmouseover="showTip(event, 'App.fs:48-58_fs1', 1)" class="i">createAlbum</span> <span class="o">=</span>&#10;    <span class="k">let</span> <span onmouseout="hideTip(event, 'App.fs:48-58_fs2', 2)" onmouseover="showTip(event, 'App.fs:48-58_fs2', 2)" class="i">ctx</span> <span class="o">=</span> <span class="i">Db</span><span class="o">.</span><span class="i">getContext</span>()&#10;    <span class="i">choose</span> [&#10;        <span class="i">GET</span> <span class="o">&gt;</span><span class="o">=&gt;</span> <span class="i">warbler</span> (<span class="k">fun</span> _ <span class="k">-&gt;</span> &#10;            <span class="k">let</span> <span class="i">genres</span> <span class="o">=</span> &#10;                <span class="i">Db</span><span class="o">.</span><span class="i">getGenres</span> <span onmouseout="hideTip(event, 'App.fs:48-58_fs2', 3)" onmouseover="showTip(event, 'App.fs:48-58_fs2', 3)" class="i">ctx</span> &#10;                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'App.fs:48-58_fs3', 4)" onmouseover="showTip(event, 'App.fs:48-58_fs3', 4)" class="i">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'App.fs:48-58_fs4', 5)" onmouseover="showTip(event, 'App.fs:48-58_fs4', 5)" class="i">map</span> (<span class="k">fun</span> <span class="i">g</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'App.fs:48-58_fs5', 6)" onmouseover="showTip(event, 'App.fs:48-58_fs5', 6)" class="i">decimal</span> <span class="i">g</span><span class="o">.</span><span class="i">GenreId</span>, <span class="i">g</span><span class="o">.</span><span class="i">Name</span>)&#10;            <span class="k">let</span> <span class="i">artists</span> <span class="o">=</span> &#10;                <span class="i">Db</span><span class="o">.</span><span class="i">getArtists</span> <span onmouseout="hideTip(event, 'App.fs:48-58_fs2', 7)" onmouseover="showTip(event, 'App.fs:48-58_fs2', 7)" class="i">ctx</span>&#10;                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'App.fs:48-58_fs3', 8)" onmouseover="showTip(event, 'App.fs:48-58_fs3', 8)" class="i">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'App.fs:48-58_fs4', 9)" onmouseover="showTip(event, 'App.fs:48-58_fs4', 9)" class="i">map</span> (<span class="k">fun</span> <span class="i">g</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'App.fs:48-58_fs5', 10)" onmouseover="showTip(event, 'App.fs:48-58_fs5', 10)" class="i">decimal</span> <span class="i">g</span><span class="o">.</span><span class="i">ArtistId</span>, <span class="i">g</span><span class="o">.</span><span class="i">Name</span>)&#10;            <span class="i">html</span> (<span class="i">View</span><span class="o">.</span><span class="i">createAlbum</span> <span class="i">genres</span> <span class="i">artists</span>))&#10;</div></pre>&#10;<div class="tip" id="App.fs:48-58_fs1">val createAlbum : obj<br /><br />Full name: CDocument.createAlbum</div>&#10;<div class="tip" id="App.fs:48-58_fs2">val ctx : obj</div>&#10;<div class="tip" id="App.fs:48-58_fs3">Multiple items<br />module List<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;| ( [] )<br />&#160;&#160;| ( :: ) of Head: &#39;T * Tail: &#39;T list<br />&#160;&#160;interface IEnumerable<br />&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;member GetSlice : startIndex:int option * endIndex:int option -&gt; &#39;T list<br />&#160;&#160;member Head : &#39;T<br />&#160;&#160;member IsEmpty : bool<br />&#160;&#160;member Item : index:int -&gt; &#39;T with get<br />&#160;&#160;member Length : int<br />&#160;&#160;member Tail : &#39;T list<br />&#160;&#160;static member Cons : head:&#39;T * tail:&#39;T list -&gt; &#39;T list<br />&#160;&#160;static member Empty : &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List&lt;_&gt;</div>&#10;<div class="tip" id="App.fs:48-58_fs4">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; list:&#39;T list -&gt; &#39;U list<br /><br />Full name: Microsoft.FSharp.Collections.List.map</div>&#10;<div class="tip" id="App.fs:48-58_fs5">Multiple items<br />val decimal : value:&#39;T -&gt; decimal (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.decimal<br /><br />--------------------<br />type decimal = System.Decimal<br /><br />Full name: Microsoft.FSharp.Core.decimal<br /><br />--------------------<br />type decimal&lt;&#39;Measure&gt; = decimal<br /><br />Full name: Microsoft.FSharp.Core.decimal&lt;_&gt;</div>&#10;&#10;

<pre class="fssnip highlighted"><div lang="fsharp">        <span class="i">path</span> <span class="i">Path</span><span class="o">.</span><span class="i">Admin</span><span class="o">.</span><span class="i">createAlbum</span> <span class="o">&gt;</span><span class="o">=&gt;</span> <span class="i">createAlbum</span>&#10;</div></pre>&#10;&#10;

Once again, `warbler` will prevent from eager evaluation of the WebPart - it's vital here.
To our `View.manage` we can add a link to `createAlbum`:

<pre class="fssnip highlighted"><div lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'View.fs:109-113_fs1', 1)" onmouseover="showTip(event, 'View.fs:109-113_fs1', 1)" class="f">manage</span> (<span onmouseout="hideTip(event, 'View.fs:109-113_fs2', 2)" onmouseover="showTip(event, 'View.fs:109-113_fs2', 2)" class="i">albums</span> <span class="o">:</span> <span class="i">Db</span><span class="o">.</span><span class="i">AlbumDetails</span> <span onmouseout="hideTip(event, 'View.fs:109-113_fs3', 3)" onmouseover="showTip(event, 'View.fs:109-113_fs3', 3)" class="t">list</span>) <span class="o">=</span> [ &#10;    <span class="i">h2</span> <span class="s">&quot;Index&quot;</span>&#10;    <span class="i">p</span> [&#10;        <span class="i">aHref</span> <span class="i">Path</span><span class="o">.</span><span class="i">Admin</span><span class="o">.</span><span class="i">createAlbum</span> (<span class="i">text</span> <span class="s">&quot;Create New&quot;</span>)&#10;    ]&#10;</div></pre>&#10;<div class="tip" id="View.fs:109-113_fs1">val manage : albums:&#39;a -&gt; &#39;b list<br /><br />Full name: CDocument.manage</div>&#10;<div class="tip" id="View.fs:109-113_fs2">val albums : &#39;a</div>&#10;<div class="tip" id="View.fs:109-113_fs3">type &#39;T list = List&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.list&lt;_&gt;</div>&#10;&#10;

This allows us to navigate to "/admin/create", however we're still lacking the actual POST handler.

Before we define the handler, let's add another helper function to `App` module:

<pre class="fssnip highlighted"><div lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'App.fs:45-46_fs1', 1)" onmouseover="showTip(event, 'App.fs:45-46_fs1', 1)" class="f">bindToForm</span> <span onmouseout="hideTip(event, 'App.fs:45-46_fs2', 2)" onmouseover="showTip(event, 'App.fs:45-46_fs2', 2)" class="i">form</span> <span onmouseout="hideTip(event, 'App.fs:45-46_fs3', 3)" onmouseover="showTip(event, 'App.fs:45-46_fs3', 3)" class="i">handler</span> <span class="o">=</span>&#10;    <span class="i">bindReq</span> (<span class="i">bindForm</span> <span onmouseout="hideTip(event, 'App.fs:45-46_fs2', 4)" onmouseover="showTip(event, 'App.fs:45-46_fs2', 4)" class="i">form</span>) <span onmouseout="hideTip(event, 'App.fs:45-46_fs3', 5)" onmouseover="showTip(event, 'App.fs:45-46_fs3', 5)" class="i">handler</span> <span class="i">BAD_REQUEST</span>&#10;</div></pre>&#10;<div class="tip" id="App.fs:45-46_fs1">val bindToForm : form:&#39;a -&gt; handler:&#39;b -&gt; &#39;c<br /><br />Full name: CDocument.bindToForm</div>&#10;<div class="tip" id="App.fs:45-46_fs2">val form : &#39;a</div>&#10;<div class="tip" id="App.fs:45-46_fs3">val handler : &#39;b</div>&#10;&#10;

It requires a few modules to be open, namely:

- `Suave.Form`
- `Suave.Http.RequestErrors`
- `Suave.Model.Binding`

What `bindToForm` does is:

- it takes as first argument a form of type `Form<'a>`
- it takes as second argument a handler of type `'a -> WebPart`
- if the incoming request contains form fields filled correctly, meaning they can be parsed to corresponding types, and hold all `Prop`s defined in `Form` module, then the `handler` argument is applied with the values of `'a` filled in
- otherwise the 400 HTTP Status Code "Bad Request" is returned with information about what was malformed.

There are just 2 more things before we're good to go with creating album functionality.

We need `createAlbum` for the `Db` module (the created album is piped to `ignore` function, because we don't need it afterwards):

<pre class="fssnip highlighted"><div lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'Db.fs:52-54_fs1', 1)" onmouseover="showTip(event, 'Db.fs:52-54_fs1', 1)" class="f">createAlbum</span> (<span onmouseout="hideTip(event, 'Db.fs:52-54_fs2', 2)" onmouseover="showTip(event, 'Db.fs:52-54_fs2', 2)" class="i">artistId</span>, <span onmouseout="hideTip(event, 'Db.fs:52-54_fs3', 3)" onmouseover="showTip(event, 'Db.fs:52-54_fs3', 3)" class="i">genreId</span>, <span onmouseout="hideTip(event, 'Db.fs:52-54_fs4', 4)" onmouseover="showTip(event, 'Db.fs:52-54_fs4', 4)" class="i">price</span>, <span onmouseout="hideTip(event, 'Db.fs:52-54_fs5', 5)" onmouseover="showTip(event, 'Db.fs:52-54_fs5', 5)" class="i">title</span>) (<span onmouseout="hideTip(event, 'Db.fs:52-54_fs6', 6)" onmouseover="showTip(event, 'Db.fs:52-54_fs6', 6)" class="i">ctx</span> <span class="o">:</span> <span class="i">DbContext</span>) <span class="o">=</span>&#10;    <span onmouseout="hideTip(event, 'Db.fs:52-54_fs6', 7)" onmouseover="showTip(event, 'Db.fs:52-54_fs6', 7)" class="i">ctx</span><span class="o">.</span><span class="i">``[dbo].[Albums]``</span><span class="o">.</span><span class="i">Create</span>(<span onmouseout="hideTip(event, 'Db.fs:52-54_fs2', 8)" onmouseover="showTip(event, 'Db.fs:52-54_fs2', 8)" class="i">artistId</span>, <span onmouseout="hideTip(event, 'Db.fs:52-54_fs3', 9)" onmouseover="showTip(event, 'Db.fs:52-54_fs3', 9)" class="i">genreId</span>, <span onmouseout="hideTip(event, 'Db.fs:52-54_fs4', 10)" onmouseover="showTip(event, 'Db.fs:52-54_fs4', 10)" class="i">price</span>, <span onmouseout="hideTip(event, 'Db.fs:52-54_fs5', 11)" onmouseover="showTip(event, 'Db.fs:52-54_fs5', 11)" class="i">title</span>) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'Db.fs:52-54_fs7', 12)" onmouseover="showTip(event, 'Db.fs:52-54_fs7', 12)" class="f">ignore</span>&#10;    <span onmouseout="hideTip(event, 'Db.fs:52-54_fs6', 13)" onmouseover="showTip(event, 'Db.fs:52-54_fs6', 13)" class="i">ctx</span><span class="o">.</span><span class="i">SubmitUpdates</span>()&#10;</div></pre>&#10;<div class="tip" id="Db.fs:52-54_fs1">val createAlbum : artistId:&#39;a * genreId:&#39;b * price:&#39;c * title:&#39;d -&gt; ctx:&#39;e -&gt; &#39;f<br /><br />Full name: CDocument.createAlbum</div>&#10;<div class="tip" id="Db.fs:52-54_fs2">val artistId : &#39;a</div>&#10;<div class="tip" id="Db.fs:52-54_fs3">val genreId : &#39;b</div>&#10;<div class="tip" id="Db.fs:52-54_fs4">val price : &#39;c</div>&#10;<div class="tip" id="Db.fs:52-54_fs5">val title : &#39;d</div>&#10;<div class="tip" id="Db.fs:52-54_fs6">val ctx : &#39;e</div>&#10;<div class="tip" id="Db.fs:52-54_fs7">val ignore : value:&#39;T -&gt; unit<br /><br />Full name: Microsoft.FSharp.Core.Operators.ignore</div>&#10;&#10;

as well as POST handler inside the `createAlbum` WebPart:

<pre class="fssnip highlighted"><div lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'App.fs:48-62_fs1', 1)" onmouseover="showTip(event, 'App.fs:48-62_fs1', 1)" class="i">createAlbum</span> <span class="o">=</span>&#10;    <span class="k">let</span> <span onmouseout="hideTip(event, 'App.fs:48-62_fs2', 2)" onmouseover="showTip(event, 'App.fs:48-62_fs2', 2)" class="i">ctx</span> <span class="o">=</span> <span class="i">Db</span><span class="o">.</span><span class="i">getContext</span>()&#10;    <span class="i">choose</span> [&#10;        <span class="i">GET</span> <span class="o">&gt;</span><span class="o">=&gt;</span> <span class="i">warbler</span> (<span class="k">fun</span> _ <span class="k">-&gt;</span> &#10;            <span class="k">let</span> <span class="i">genres</span> <span class="o">=</span> &#10;                <span class="i">Db</span><span class="o">.</span><span class="i">getGenres</span> <span onmouseout="hideTip(event, 'App.fs:48-62_fs2', 3)" onmouseover="showTip(event, 'App.fs:48-62_fs2', 3)" class="i">ctx</span> &#10;                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'App.fs:48-62_fs3', 4)" onmouseover="showTip(event, 'App.fs:48-62_fs3', 4)" class="i">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'App.fs:48-62_fs4', 5)" onmouseover="showTip(event, 'App.fs:48-62_fs4', 5)" class="i">map</span> (<span class="k">fun</span> <span class="i">g</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'App.fs:48-62_fs5', 6)" onmouseover="showTip(event, 'App.fs:48-62_fs5', 6)" class="i">decimal</span> <span class="i">g</span><span class="o">.</span><span class="i">GenreId</span>, <span class="i">g</span><span class="o">.</span><span class="i">Name</span>)&#10;            <span class="k">let</span> <span class="i">artists</span> <span class="o">=</span> &#10;                <span class="i">Db</span><span class="o">.</span><span class="i">getArtists</span> <span onmouseout="hideTip(event, 'App.fs:48-62_fs2', 7)" onmouseover="showTip(event, 'App.fs:48-62_fs2', 7)" class="i">ctx</span>&#10;                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'App.fs:48-62_fs3', 8)" onmouseover="showTip(event, 'App.fs:48-62_fs3', 8)" class="i">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'App.fs:48-62_fs4', 9)" onmouseover="showTip(event, 'App.fs:48-62_fs4', 9)" class="i">map</span> (<span class="k">fun</span> <span class="i">g</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'App.fs:48-62_fs5', 10)" onmouseover="showTip(event, 'App.fs:48-62_fs5', 10)" class="i">decimal</span> <span class="i">g</span><span class="o">.</span><span class="i">ArtistId</span>, <span class="i">g</span><span class="o">.</span><span class="i">Name</span>)&#10;            <span class="i">html</span> (<span class="i">View</span><span class="o">.</span><span class="i">createAlbum</span> <span class="i">genres</span> <span class="i">artists</span>))&#10;        <span class="i">POST</span> <span class="o">&gt;</span><span class="o">=&gt;</span> <span class="i">bindToForm</span> <span class="i">Form</span><span class="o">.</span><span class="i">album</span> (<span class="k">fun</span> <span class="i">form</span> <span class="k">-&gt;</span>&#10;            <span class="i">Db</span><span class="o">.</span><span class="i">createAlbum</span> (<span onmouseout="hideTip(event, 'App.fs:48-62_fs6', 11)" onmouseover="showTip(event, 'App.fs:48-62_fs6', 11)" class="i">int</span> <span class="i">form</span><span class="o">.</span><span class="i">ArtistId</span>, <span onmouseout="hideTip(event, 'App.fs:48-62_fs6', 12)" onmouseover="showTip(event, 'App.fs:48-62_fs6', 12)" class="i">int</span> <span class="i">form</span><span class="o">.</span><span class="i">GenreId</span>, <span class="i">form</span><span class="o">.</span><span class="i">Price</span>, <span class="i">form</span><span class="o">.</span><span class="i">Title</span>) <span onmouseout="hideTip(event, 'App.fs:48-62_fs2', 13)" onmouseover="showTip(event, 'App.fs:48-62_fs2', 13)" class="i">ctx</span>&#10;            <span class="i">Redirection</span><span class="o">.</span><span class="i">FOUND</span> <span class="i">Path</span><span class="o">.</span><span class="i">Admin</span><span class="o">.</span><span class="i">manage</span>)&#10;    ]&#10;</div></pre>&#10;<div class="tip" id="App.fs:48-62_fs1">val createAlbum : obj<br /><br />Full name: CDocument.createAlbum</div>&#10;<div class="tip" id="App.fs:48-62_fs2">val ctx : obj</div>&#10;<div class="tip" id="App.fs:48-62_fs3">Multiple items<br />module List<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;| ( [] )<br />&#160;&#160;| ( :: ) of Head: &#39;T * Tail: &#39;T list<br />&#160;&#160;interface IEnumerable<br />&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;member GetSlice : startIndex:int option * endIndex:int option -&gt; &#39;T list<br />&#160;&#160;member Head : &#39;T<br />&#160;&#160;member IsEmpty : bool<br />&#160;&#160;member Item : index:int -&gt; &#39;T with get<br />&#160;&#160;member Length : int<br />&#160;&#160;member Tail : &#39;T list<br />&#160;&#160;static member Cons : head:&#39;T * tail:&#39;T list -&gt; &#39;T list<br />&#160;&#160;static member Empty : &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List&lt;_&gt;</div>&#10;<div class="tip" id="App.fs:48-62_fs4">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; list:&#39;T list -&gt; &#39;U list<br /><br />Full name: Microsoft.FSharp.Collections.List.map</div>&#10;<div class="tip" id="App.fs:48-62_fs5">Multiple items<br />val decimal : value:&#39;T -&gt; decimal (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.decimal<br /><br />--------------------<br />type decimal = System.Decimal<br /><br />Full name: Microsoft.FSharp.Core.decimal<br /><br />--------------------<br />type decimal&lt;&#39;Measure&gt; = decimal<br /><br />Full name: Microsoft.FSharp.Core.decimal&lt;_&gt;</div>&#10;<div class="tip" id="App.fs:48-62_fs6">Multiple items<br />val int : value:&#39;T -&gt; int (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.int<br /><br />--------------------<br />type int = int32<br /><br />Full name: Microsoft.FSharp.Core.int<br /><br />--------------------<br />type int&lt;&#39;Measure&gt; = int<br /><br />Full name: Microsoft.FSharp.Core.int&lt;_&gt;</div>&#10;&#10;


---

GitHub commit: [79c56f6521df52b449bbd2ece994e13e342a9b0c](https://github.com/theimowski/SuaveMusicStoreTutorial/commit/79c56f6521df52b449bbd2ece994e13e342a9b0c)

Files changed:

* App.fs (modified)
* Db.fs (modified)
* Form.fs (added)
* Path.fs (modified)
* SuaveMusicStore.fsproj (modified)
* View.fs (modified)
